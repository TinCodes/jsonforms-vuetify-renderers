{
  "type": "VerticalLayout",
  "elements": [
    {
      "type": "Dropdown",
      "scope": "#/properties/countries",
      "options": {
        "events": {
          "onChange": {
            "arguments": "JForm, nval, oval",
            "body": ""
          }
        },
        "items": "return fetch('https://poc-2.processmaker.net/api/1.0/workflow/project/289650576625433cc195332066440091/process-variable/countries/execute-query?' , {\n          method: 'POST',\n          body: '{\"dyn_uid\":\"307644763625433f6d07470067177319\",\"field_id\":\"countries\",\"del_index\":\"\",\"app_uid\":\"\"}',\n          headers:{\"authorization\":\"Bearer 1c74975729c10675e55b970ea8122df1c2096088\",\"content-type\":\"application/json\"},\n      })\n        .then((res) => res.json())\n        .then((res) => {\n          return (_.map(res,(i)=>{\n            return {\n             value:i.value,\n              label:i.text\n            };\n          } \n          ));\n        });",
        "request": {
          "params": [
            {
              "key": "",
              "value": ""
            }
          ],
          "headers": [
            {
              "key": "authorization",
              "value": "Bearer 02efd5dd7fc793ffafe643038fb9837f28df1521"
            },
            {
              "key": "content-type",
              "value": "application/json"
            }
          ],
          "body": [
            {
              "key": "dyn_uid",
              "value": "307644763625433f6d07470067177319"
            },
            {
              "key": "field_id",
              "value": "countries"
            },
            {
              "key": "del_index",
              "value": ""
            },
            {
              "key": "app_uid",
              "value": ""
            }
          ],
          "output": {
            "path": "",
            "value": "value",
            "label": "text"
          },
          "method": "POST",
          "url": "https://poc-2.processmaker.net/api/1.0/workflow/project/289650576625433cc195332066440091/process-variable/countries/execute-query"
        },
        "source": "dynamic",
        "dependencies": []
      }
    },
    {
      "type": "Dropdown",
      "scope": "#/properties/subdivision",
      "options": {
        "events": {
          "onChange": {
            "arguments": "JForm, nval, oval",
            "body": ""
          }
        },
        "items": "return fetch('https://poc-2.processmaker.net/api/1.0/workflow/project/289650576625433cc195332066440091/process-variable/subdivision/execute-query?' , {\n          method: 'POST',\n          body: `{\"dyn_uid\":\"307644763625433f6d07470067177319\",\"field_id\":\"subdivision\",\"del_index\":\"\",\"app_uid\":\"\",\"countries\":\"${payload.countries.value}\"}`,\n          headers:{\"authorization\":\"Bearer 1c74975729c10675e55b970ea8122df1c2096088\",\"content-type\":\"application/json\"},\n      })\n        .then((res) => res.json())\n        .then((res) => {\n          return (_.map(res,(i)=>{\n            return {\n             value:i.value,\n              label:i.text\n            };\n          } \n          ));\n        });",
        "request": {
          "params": [
            {
              "key": "",
              "value": ""
            }
          ],
          "headers": [
            {
              "key": "authorization",
              "value": "Bearer 02efd5dd7fc793ffafe643038fb9837f28df1521"
            },
            {
              "key": "content-type",
              "value": "application/json"
            }
          ],
          "body": [
            {
              "key": "dyn_uid",
              "value": "307644763625433f6d07470067177319"
            },
            {
              "key": "field_id",
              "value": "subdivision"
            },
            {
              "key": "del_index",
              "value": ""
            },
            {
              "key": "app_uid",
              "value": ""
            },
            {
              "key": "countries",
              "value": "{{payload.countries.value}}"
            }
          ],
          "output": {
            "path": "",
            "value": "value",
            "label": "text"
          },
          "method": "POST",
          "url": "https://poc-2.processmaker.net/api/1.0/workflow/project/289650576625433cc195332066440091/process-variable/subdivision/execute-query"
        },
        "source": "dynamic",
        "dependencies": [
          "countries"
        ]
      }
    },
    {
      "type": "Suggest",
      "scope": "#/properties/location",
      "options": {
        "events": {
          "onChange": {
            "arguments": "JForm, nval, oval",
            "body": ""
          }
        },
        "items": "return fetch('https://poc-2.processmaker.net/api/1.0/workflow/project/289650576625433cc195332066440091/process-variable/location/execute-query-suggest?' , {\n          method: 'POST',\n          body: `{\"dyn_uid\":\"307644763625433f6d07470067177319\",\"field_id\":\"location\",\"del_index\":\"\",\"app_uid\":\"\",\"countries\":\"${payload.countries.value}\",\"subdivision\":\"${payload.subdivision.value}\"}`,\n          headers:{\"authorization\":\"Bearer 1c74975729c10675e55b970ea8122df1c2096088\",\"content-type\":\"application/json\"},\n      })\n        .then((res) => res.json())\n        .then((res) => {\n          return (_.map(res,(i)=>{\n            return {\n             value:i.value,\n              label:i.text\n            };\n          } \n          ));\n        });",
        "request": {
          "params": [
            {
              "key": "",
              "value": ""
            }
          ],
          "headers": [
            {
              "key": "authorization",
              "value": "Bearer 02efd5dd7fc793ffafe643038fb9837f28df1521"
            },
            {
              "key": "content-type",
              "value": "application/json"
            }
          ],
          "body": [
            {
              "key": "dyn_uid",
              "value": "307644763625433f6d07470067177319"
            },
            {
              "key": "field_id",
              "value": "location"
            },
            {
              "key": "del_index",
              "value": ""
            },
            {
              "key": "app_uid",
              "value": ""
            },
            {
              "key": "countries",
              "value": "{{payload.countries.value}}"
            },
            {
              "key": "subdivision",
              "value": "{{payload.subdivision.value}}"
            }
          ],
          "output": {
            "path": "",
            "value": "value",
            "label": "text"
          },
          "method": "POST",
          "url": "https://poc-2.processmaker.net/api/1.0/workflow/project/289650576625433cc195332066440091/process-variable/location/execute-query-suggest"
        },
        "source": "dynamic",
        "dependencies": [
          "countries",
          "subdivision"
        ]
      }
    }
  ]
}
